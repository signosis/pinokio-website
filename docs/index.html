<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Pinokio Repos</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    body.dark { background-color: #121212; color: #eee; }
    body.dark table { color: #eee; }
  </style>
</head>
<body>
  <h2>Pinokio Repos</h2>
  <table id="repos" class="display" style="width:100%"></table>

  <button id="darkToggle">ðŸŒ™ Dark Mode</button>

  <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
  <script>
    // âœ… Fetch correct file (data.json in docs/)
    fetch('data.json')
      .then(r => r.json())
      .then(data => {
        $('#repos').DataTable({
          data: data,
          columns: Object.keys(data[0]).map(k => ({
            title: k,
            data: k,
            render: d => d && d.toString().includes('github.com')
              ? `<a href="${d}" target="_blank">${d}</a>`
              : d
          })),
          pageLength: 25
        });
      });
    
    // âœ… Dark mode toggle
    const toggle = document.getElementById('darkToggle');
    toggle.addEventListener('click', () => {
      document.body.classList.toggle('dark');
      localStorage.setItem('mode', document.body.classList.contains('dark') ? 'dark' : 'light');
    });
    if (localStorage.getItem('mode') === 'dark') {
      document.body.classList.add('dark');
    }
  </script>
</body>
</html>
